<div *ngIf="isExpanded" (click)="toggleSidenav()" class="fixed inset-0 bg-black/50 z-40 lg:hidden"></div>
<aside
  class="fixed top-0 left-0 h-screen bg-white shadow-lg flex flex-col transition-all duration-300 ease-in-out z-50 lg:relative lg:transition-all"
  [ngClass]="{
    'w-64': isExpanded,
    '-translate-x-full': !isExpanded,
    'translate-x-0': isExpanded,
    'lg:w-20': !isExpanded,
    'lg:translate-x-0': true
  }"
  (mouseenter)="isHovering = true"
  (mouseleave)="isHovering = false"
>
  <div *ngIf="!isExpanded" class="flex items-center justify-center h-20 px-4 flex-shrink-0">
    <img src="logo.PNG" alt="" class="w-8 h-8" />
  </div>
  <nav class="flex-grow px-4 space-y-2 mt-[20px] sm:mt-[30px]">
    <a
      *ngFor="let item of topNavItems"
      (click)="handleItemClick(item.id)"
      class="flex items-center p-2 rounded-lg cursor-pointer transition-colors duration-200"
      [ngClass]="
        activeItemId === item.id ? 'bg-green-100 text-green-800' : 'text-gray-600 hover:bg-gray-100'
      "
    >
      <img [src]="item.iconSvgPath" alt="" class="w-5 h-5" />
      <span class="ml-3 text-[#525D73] text-sm transition-opacity duration-200" [ngClass]="isExpanded ? 'opacity-100' : 'opacity-0'">
        {{ item.label }}
      </span>
    </a>
  </nav>
  <div class="flex-shrink-0 px-4 space-y-2">
    <a
      *ngFor="let item of bottomNavItems"
      (click)="handleItemClick(item.id)"
      class="flex items-center p-2 rounded-lg cursor-pointer transition-colors duration-200"
      [ngClass]="
        activeItemId === item.id ? 'bg-green-50 text-[#525D73]' : 'text-[#525D73] hover:bg-gray-100'
      "
    >
      <img [src]="item.iconSvgPath" alt="" class="w-5 h-5" />
      <span class="ml-3 text-[#525D73] text-sm transition-opacity duration-200" [ngClass]="isExpanded ? 'opacity-100' : 'opacity-0'">
        {{ item.label }}
      </span>
    </a>
  </div>
  <div class="flex-shrink-0 p-4 border-t border-gray-200 mt-2">
    <div class="flex items-center">
      <img src="sidenav/avatar.svg" alt="" class="w-10 h-10" />
      <div *ngIf="isExpanded" class="ml-3 flex-grow overflow-hidden">
        <p class="font-semibold text-[#525D73] truncate">{{ userName }}</p>
        <p class="text-sm text-[#525D73] truncate">{{ userRole }}</p>
      </div>
      <div *ngIf="isExpanded" (click)="logoutClicked.emit()" class="ml-2 cursor-pointer text-gray-500 hover:text-gray-800 flex-shrink-0">
        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" />
        </svg>
      </div>
    </div>
  </div>
  <button *ngIf="isExpanded || isHovering" (click)="toggleSidenav()" class="absolute -right-3 top-10 bg-green-600 hover:bg-green-700 text-white w-6 h-6 rounded-full hidden lg:flex items-center justify-center transition-opacity duration-200 z-50">
    <svg class="h-4 w-4 transition-transform duration-300" [ngClass]="{ 'rotate-180': !isExpanded }" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
    </svg>
  </button>
</aside>


